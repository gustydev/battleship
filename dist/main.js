(()=>{var t={636:(t,e,o)=>{const r=o(432),{allPlaced:n,gameLoop:i}=(o(211),o(176));function s(t){t.board.grid.forEach((t=>{t.ship&&(document.getElementById(`p1-${t.coord}`).style.backgroundColor="black")}))}function a(t,e,o){let r,n;r="Computer"===e.name?document.querySelector("div#board-2"):document.querySelector("div#board-1"),n=o?t.attack(e,o):t.attack(e);const i=document.getElementById(`p${r.id.slice(-1)}-${n}`);if(n){let o;e.board.grid.find((t=>t.coord===n)).ship?(i.style.backgroundColor="red",o="hits"):(i.style.backgroundColor="green",o="misses");const r=document.querySelector("div#msg1"),s=document.querySelector("div#msg2");return"Computer"===t.name?s.textContent=`${t.name} attacks ${e.name} at ${n}, and ${o}!`:r.textContent=`${t.name} attacks ${e.name} at ${n}, and ${o}!`,!0}return!1}t.exports={craftBoards:function(){[document.querySelector("div#board-1"),document.querySelector("div#board-2")].forEach((t=>{t.innerHTML="";const e=t.id.match(/\d+$/);for(let o=1;o<11;o++){const r=document.createElement("div");r.classList.add("row"),r.id=`p${e}-row${o}`,t.appendChild(r)}t.childNodes.forEach((t=>{for(let o=65;o<75;o++){const r=String.fromCharCode(o),n=t.id.match(/\d+$/),i=document.createElement("div");i.classList.add("square"),i.id=`p${e}-${r}${n}`,t.appendChild(i)}}))}))},fillBoard:s,sendAttack:a,clickAttack:function(t,e){document.querySelector("div#board-2").querySelectorAll("div.square").forEach((o=>{o.addEventListener("click",(()=>{[...o.classList].includes("hit")||(o.classList.add("hit"),a(t,e,o.id.substring(3,6)),a(e,t))}))}))},manualShips:function(t){const e=document.querySelector("div#msg1"),o=document.querySelector("div#msg2"),n=document.querySelector("div#board-1").querySelectorAll("div.square"),i=document.querySelector("div#board-2");i.style.pointerEvents="none";const a=[new r("Carrier",5),new r("Battleship",4),new r("Cruiser",3),new r("Submarine",3),new r("Destroyer",2)];let c="horizontal";const d=a[Symbol.iterator]();let l=d.next().value;e.textContent=`Welcome to Battleship! Place your ${l.name}`,o.textContent="Tip: right click to rotate your ship!",n.forEach((r=>{let n;function a(){if(!l||"black"===r.style.backgroundColor)return;n&&n.forEach((t=>{"black"!==t.style.backgroundColor&&(t.style.backgroundColor="")}));let e=[],o=r;for(let t=0;t<l.size;t++){if(!o)return;const t=o.id.substring(3,6),r=t[0],n=Number(t.substring(1,3));e.push(o),o="horizontal"===c?o.nextSibling:document.querySelector(`div#p1-${r+(n-1)}`)}e.some((t=>"black"===t.style.backgroundColor))||(e.forEach((t=>{t.style.backgroundColor="rgb(0, 0, 0, 0.25)"})),r.addEventListener("mouseleave",(()=>{e.forEach((e=>{t.board.grid.find((t=>t.coord===e.id.substring(3,6))).ship||(e.style.backgroundColor="")}))})),n=e)}r.addEventListener("click",(function(){l&&t.board.placeShip(l,`${r.id.substring(3,6)}`,c)&&(s(t),l=d.next().value,l?e.textContent=`Place your ${l.name}`:(e.textContent="All ships placed!",o.textContent="Click on the enemy board to begin the game.",i.style.pointerEvents=""))})),r.addEventListener("mouseover",a),r.addEventListener("contextmenu",(t=>{t.preventDefault(),c="horizontal"===c?"vertical":"horizontal",a()}))}))}}},176:(t,e,o)=>{const r=o(636),n=r.craftBoards,i=r.clickAttack,s=r.manualShips,a=o(432),c=o(211);function d(t,e){const o=setInterval((()=>{const r=[t,e],n=r.find((t=>t.board.allSunk())),i=r.find((t=>!t.board.allSunk()));n&&(alert(`All of ${n.name}'s ships sunk! ${i.name} wins!`),clearInterval(o),h())}),100,t,e)}function l(t,e){return Math.round(Math.random()*(e-t)+t)}function u(t){const e=[new a("Carrier",5),new a("Battleship",4),new a("Cruiser",3),new a("Submarine",3),new a("Destroyer",2)],o=["horizontal","vertical"];e.forEach((e=>{let r,n,i,s,a;for(;!a;)r=l(65,74),n=l(1,10),i=`${String.fromCharCode(r)}${n}`,s=o[l(0,1)],a=t.board.placeShip(e,i,s)}))}function h(){const t={human:new c("Human"),comp:new c("Computer")},e=t.human,o=t.comp;n(),u(o),s(e),i(e,o),d(e,o)}t.exports={loadGame:h,checkWin:d,randomizeShips:u}},906:t=>{t.exports=class{constructor(){this.grid=[];for(let t=1;t<11;t++)for(let e=65;e<75;e++)this.grid.push({coord:String.fromCharCode(e)+t,ship:void 0,isHit:!1});this.ships=[]}isOutOfBounds(t,e){return e<1||t.charCodeAt(0)>=75}coordIsTaken(t){return!!this.grid.find((e=>e.coord===t)).ship}placeShip(t,e,o){let r=e.slice(0,1),n=Number(e.slice(1));for(let e=0;e<t.size;e++){if(this.isOutOfBounds(r,n)||this.coordIsTaken(r+n))return!1;t.positions[e]={coord:r+n,isHit:!1},"vertical"===o?n-=1:r=String.fromCharCode(r.charCodeAt(0)+1)}const i=[];return t.positions.forEach((e=>{const o=this.grid.find((t=>t.coord===e.coord));o.ship=t.name,i.push(o)})),!this.ships.includes(t)&&(this.ships.push(t),i)}receiveAttack(t){const e=this.grid.find((e=>e.coord===t));if(e.isHit)return!1;e.isHit=!0;const o=this.ships.find((e=>e.positions.some((e=>e.coord===t))));return o&&o.hit(t),!0}allSunk(){return this.ships.length>0&&this.ships.every((t=>t.isSunk()))}}},211:(t,e,o)=>{const r=o(906);t.exports=class{constructor(t){this.name=t,this.board=new r}attack(t,e){if(!e){let e=t.board.grid[Math.floor(Math.random()*t.board.grid.length)];for(;!1!==e.isHit;)e=t.board.grid[Math.floor(Math.random()*t.board.grid.length)];return t.board.receiveAttack(e.coord),e.coord}return t.board.receiveAttack(e),e}}},432:t=>{t.exports=class{constructor(t,e){this.name=t,this.size=e,this.positions=Array(e);for(let t=0;t<this.positions.length;t++)this.positions[t]={coord:void 0,isHit:!1}}hit(t){const e=this.positions.find((e=>e.coord===t));return!e.isHit&&(e.isHit=!0,!0)}isSunk(){return this.positions.every((t=>!0===t.isHit))}}}},e={};(0,function o(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,o),i.exports}(176).loadGame)()})();